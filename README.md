# java-chess
체스 게임 구현을 위한 저장소

## 미션 회고 및 학습 내용
### 미션 포인트 ⏰ 
   - SOLID, GRASP 원칙을 생각하며 개발한다.
   - 객체지향 생활 체조를 고려하며 개발한다.
   - board와 piece의 관계
   - 각기 다른 Piece의 이동전략을 어떻게 가져갈 것인가?
   - 게임의 작업흐름은 누가 제어할 것인가?
### 학습 내용 📖
   - 템플릿 메서드 패턴을 통해, 일관된 이동전략 및 검증 구현
   - 상태에 따른 게임지원 유무 판단
   - board와 piece의 관계에 대한 고민
      - 결국 Board는 Piece를 동기화해야함.
      - 그렇다면 관리하기 용이한 Board에서 Piece를 아는 것이 맞다고 생각함.
      - 옵저버 패턴을 활용해서 둘간의 관계를 약하게 만들 수 있지만, 구현 과정에서 어려움이 있어 Board가 Piece를 아는 형태로 구성
   - 변할 확률이 높은 객체가 변하지 않는 객체를 의존하는 것이 바람직함(Dto -> Entity)
   - Piece마다 다르게 움직이는 부분을 Enum을 활용하여 해결
      ```java
      public enum Direction {
      	NORTH(0, 1),
      	NORTHEAST(1, 1),
      	EAST(1, 0),
        SOUTHEAST(1, -1),
        SOUTH(0, -1),
        SOUTHWEST(-1, -1),
        WEST(-1, 0),
        NORTHWEST(-1, 1),

        NNE(1, 2),
        NNW(-1, 2),
        SSE(1, -2),
        SSW(-1, -2),
        EEN(2, 1),
        EES(2, -1),
        WWN(-2, 1),
        WWS(-2, -1);
      }
      ```

### 아직 어려운 개념들 😂
   - 도메인 자체가 어려워서 구현이 어려웠음..
   - 게임의 흐름을 제어하는 역할은 Service의 역할일까, Board의 역할일까?
   - 도메인의 실행순서를 보장해준다는 점에서는 Service의 역할같지만 도메인끼리 협력하며 어플을 구성한다는 점에서는 Board의 역할로 보임.
   - Service를 통해 게임 흐름을 제어하고 있지만, 실제로 Piece를 이동시키고 Board를 변경하는 것은 세부 도메인이라고 생각함. 이에 Board에서 담당하도록 함.
   - Service에서 관리하는 경우 도메인간의 의존을 줄일 수 있는 장점이 있지만 로직의 중복이 발생할 수 있음. 도메인을 추상화해서 가져가는 것이 좋아보이는데 어려움..
   - JDBC관련된 로직을 추상화하는 것이 쉽지 않았음
---
